websocket:
  url: "ws://localhost:8080/ws"

channels:
  /thumbnail/test:
    description: "Start thumbnail testing"
    message:
      type: ThumbnailRequest
      description: "Request to start thumbnail testing"
    responses:
      - destination: /topic/thumbnail/error
        description: "Error messages related to starting the test"
        payload:
          type: string
          examples:
            - NoImagesProvided
            - ErrorProcessingRequest

  /remove-testingItem:
    description: "Remove an item from the testing queue"
    message:
      type: RemoveTestingItemRequest
      description: "Request to remove an item"
      fields:
        imageOptionId:
          type: long
          description: "ID of the image option"
        videoUrl:
          type: string
          description: "URL of the video"
    responses:
      - destination: /topic/thumbnail/error
        description: "Error messages related to item removal"
        payload:
          type: string
          examples:
            - ItemNotFound
            - ItemIsNowTesting

schemas:
  ThumbnailRequest:
    type: object
    properties:
      videoUrl:
        type: string
        description: "URL of the video for testing"
      imageOptions:
        type: array
        items:
          $ref: "#/schemas/ImageOption"
        description: "List of image options to test"
      texts:
        type: array
        items:
          type: string
        description: "Texts associated with the test"
      testConfRequest:
        $ref: "#/schemas/ThumbnailTestConfRequest"
      userDTO:
        $ref: "#/schemas/UserRequest"

  ImageOption:
    type: object
    properties:
      id:
        type: long
        description: "Unique identifier of the image option"
      fileBase64:
        type: string
        description: "Base64 encoded image data"
      text:
        type: string
        description: "Text associated with the image"
      isWinner:
        type: boolean
        description: "Indicates if the image option is the winner"
      thumbnailStats:
        type: object
        description: "Statistics related to this image option (optional)"
      thumbnail:
        type: object
        description: "Thumbnail data associated with this image (optional)"

  RemoveTestingItemRequest:
    type: object
    properties:
      imageOptionId:
        type: long
      videoUrl:
        type: string

  ThumbnailTestConfRequest:
    type: object
    description: "Configuration options for the thumbnail test"
    properties:
    # You can extend this part with actual fields if needed

  UserRequest:
    type: object
    description: "User-related information"
    properties:
    # Extend with fields as needed
